(this.webpackJsonpgame2048=this.webpackJsonpgame2048||[]).push([[0],{18:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),c=n(9),s=n.n(c),a=(n(18),n(2)),o=n(0);function u(){return Object(o.jsxs)("div",{className:"above-game",children:[Object(o.jsx)("p",{className:"game-intro",children:"Press \ud83d\udc46 || \ud83d\udc49 || \ud83d\udc48 || \ud83d\udc47 keyboard button"}),Object(o.jsx)("a",{href:"/",className:"restart-button",children:"New Game"})]})}var l=n(5),d=n(7),v=n.n(d),f=n(13);function j(e,t){return Math.floor(Math.random()*t+e)}function b(){var e=[],t=h(e);e.push(t);var n=h(e);return e.push(n),e}function x(e,t){return e.some((function(e){return e.x===t.x&&e.y===t.y}))}var O=0;function h(e){for(var t;!t||e&&x(e,t);)t={id:O++,x:j(1,4),y:j(1,4),value:2,isNew:void 0,isMerged:void 0};return t}function y(e){var t=e.tileList,n=e.x,i=e.y;!function(e,t){if(!e)throw new Error("Assertion faild: ".concat(t))}(0===n||0===i,"");for(var r=0!==i,c=n+i<0,s=t.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{isMerged:!1,isNew:!1})})).filter((function(e){return!e.isDisabled})).sort((function(e,t){var n=r?e.x-t.x:e.y-t.y;return n||(r?c?e.y-t.y:t.y-e.y:c?e.x-t.x:t.x-e.x)})),a=c?1:4,o=a,u=0;u<s.length;u++){var d,v;if(r)s[u].y=o,o=c?o+1:o-1,s[u].x!==(null===(d=s[u+1])||void 0===d?void 0:d.x)&&(o=a);else s[u].x=o,o=c?o+1:o-1,s[u].y!==(null===(v=s[u+1])||void 0===v?void 0:v.y)&&(o=a)}for(var j=0,b=Object(f.a)(s),x=0;x<s.length;x++){var O,y,m,g,N;if(!s[x].isDisabled&&(j&&(r?s[x].x===(null===(O=s[x-1])||void 0===O?void 0:O.x):s[x].y===(null===(y=s[x-1])||void 0===y?void 0:y.y))?(r?s[x].y=j:s[x].x=j,j+=c?1:-1):j=0,(r?s[x].x===(null===(m=s[x+1])||void 0===m?void 0:m.x):s[x].y===(null===(g=s[x+1])||void 0===g?void 0:g.y))&&s[x].value===(null===(N=s[x+1])||void 0===N?void 0:N.value))){var w=h();w.x=s[x].x,w.y=s[x].y,w.isMerged=!0,w.value=2*s[x].value,b.push(w),s[x].isDisabled=!0,s[x+1].isDisabled=!0,r?(j=s[x+1].y,s[x+1].y=s[x].y):(j=s[x+1].x,s[x+1].x=s[x].x)}}return b}var m=n(10),g=n(11),N={};function w(e,t){N[e]||(N[e]=[],Object(g.a)(e,(function(){return function(e){var t,n=Object(m.a)(N[e]);try{for(n.s();!(t=n.n()).done;){(0,t.value)()}}catch(i){n.e(i)}finally{n.f()}}(e)}))),N[e].push(t)}function p(e,t){N[e]=N[e].filter((function(e){return e!==t}))}var S=n(12),M=n.n(S);function E(e){e.id;var t=e.x,n=e.y,i=e.value,r=e.isMerged,c=e.isNew;return Object(o.jsx)("div",{className:M()("tile tile-".concat(i," tile-position-").concat(t,"-").concat(n),{"tile-merged":r,"tile-new":c}),children:Object(o.jsx)("div",{className:"tile-inner",children:i})})}function L(e){var t=e.setScore,n=Object(i.useState)(b),r=Object(a.a)(n,2),c=r[0];return function(e){var t=e.tileList,n=e.setTileList,r=e.setScore;function c(e){var i=e.x,c=e.y,s=y({tileList:t,x:i,y:c}),a=s.reduce((function(e,t){return t.isMerged?e+t.value:e}),0);r((function(e){return e+a}));var o=h(s);o.isNew=!0,s.push(o),n(s)}function s(){c({x:0,y:-1})}function a(){c({x:0,y:1})}function o(){c({x:-1,y:0})}function u(){c({x:1,y:0})}Object(i.useEffect)((function(){return w("up",s),w("down",a),w("left",o),w("right",u),function(){p("down",a),p("left",o),p("right",u),p("up",s)}}))}({tileList:c,setTileList:r[1],setScore:t}),Object(o.jsxs)("div",{className:"game-container",children:[Object(o.jsx)("div",{className:"grid-container",children:v()(4,(function(e){return Object(o.jsx)("div",{className:"grid-row",children:v()(4,(function(e){return Object(o.jsx)("div",{className:"grid-cell"},e)}))},e)}))}),Object(o.jsx)("div",{className:"tile-container",children:c.map((function(e){return Object(o.jsx)(E,Object(l.a)({},e),e.id)}))})]})}function D(e){var t=e.score,n=e.bestScore;return Object(o.jsxs)("header",{className:"heading",children:[Object(o.jsx)("h1",{className:"title",children:"2048"}),Object(o.jsxs)("div",{className:"scores-container",children:[Object(o.jsx)("div",{className:"score-container",style:{marginRight:5},children:t}),Object(o.jsx)("div",{className:"best-container",children:n})]})]})}var I=function(){var e=Object(i.useState)(0),t=Object(a.a)(e,2),n=t[0],r=t[1],c=function(e,t){var n=Object(i.useState)(t),r=Object(a.a)(n,2),c=r[0],s=r[1];return Object(i.useEffect)((function(){var t=window.localStorage.getItem(e);t&&s(Number(t))}),[e]),Object(i.useEffect)((function(){var t=window.localStorage.getItem(e),n=String(c);t!==n&&window.localStorage.setItem(e,n)}),[e,c]),[c,s]}("bestScore",0),s=Object(a.a)(c,2),l=s[0],d=s[1];return Object(i.useEffect)((function(){n>l&&d(n)})),Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(D,{score:n,bestScore:l}),Object(o.jsx)(u,{}),Object(o.jsx)(L,{setScore:r})]})};s.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(I,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.fcadc11f.chunk.js.map