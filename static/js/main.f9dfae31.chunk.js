(this.webpackJsonpgame2048=this.webpackJsonpgame2048||[]).push([[0],{18:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),r=n(9),s=n.n(r),a=(n(18),n(2)),o=n(0);function l(){return Object(o.jsxs)("div",{className:"above-game",children:[Object(o.jsx)("p",{className:"game-intro",children:"Press \ud83d\udc46 || \ud83d\udc49 || \ud83d\udc48 || \ud83d\udc47 button"}),Object(o.jsx)("a",{href:"/",className:"restart-button",children:"New Game"})]})}var u=n(5),d=n(7),j=n.n(d),v=n(13);function f(e,t){return Math.floor(Math.random()*t+e)}function b(){var e=[],t=h(e);e.push(t);var n=h(e);return e.push(n),e}function x(e,t){return e.some((function(e){return e.x===t.x&&e.y===t.y}))}var O=0;function h(e){for(var t;!t||e&&x(e,t);)t={id:O++,x:f(1,4),y:f(1,4),value:2,isNew:void 0,isMerged:void 0};return t}function m(e){var t=e.tileList,n=e.x,c=e.y;!function(e,t){if(!e)throw new Error("Assertion faild: ".concat(t))}(0===n||0===c,"");for(var i=0!==c,r=n+c<0,s=t.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{isMerged:!1,isNew:!1})})).filter((function(e){return!e.isDisabled})).sort((function(e,t){var n=i?e.x-t.x:e.y-t.y;return n||(i?r?e.y-t.y:t.y-e.y:r?e.x-t.x:t.x-e.x)})),a=r?1:4,o=a,l=0;l<s.length;l++){var d,j;if(i)s[l].y=o,o=r?o+1:o-1,s[l].x!==(null===(d=s[l+1])||void 0===d?void 0:d.x)&&(o=a);else s[l].x=o,o=r?o+1:o-1,s[l].y!==(null===(j=s[l+1])||void 0===j?void 0:j.y)&&(o=a)}for(var f=0,b=Object(v.a)(s),x=0;x<s.length;x++){var O,m,y,g,N;if(!s[x].isDisabled&&(f&&(i?s[x].x===(null===(O=s[x-1])||void 0===O?void 0:O.x):s[x].y===(null===(m=s[x-1])||void 0===m?void 0:m.y))?(i?s[x].y=f:s[x].x=f,f+=r?1:-1):f=0,(i?s[x].x===(null===(y=s[x+1])||void 0===y?void 0:y.x):s[x].y===(null===(g=s[x+1])||void 0===g?void 0:g.y))&&s[x].value===(null===(N=s[x+1])||void 0===N?void 0:N.value))){var p=h();p.x=s[x].x,p.y=s[x].y,p.isMerged=!0,p.value=2*s[x].value,b.push(p),s[x].isDisabled=!0,s[x+1].isDisabled=!0,i?(f=s[x+1].y,s[x+1].y=s[x].y):(f=s[x+1].x,s[x+1].x=s[x].x)}}return b}var y=n(10),g=n.n(y);function N(e){e.id;var t=e.x,n=e.y,c=e.value,i=e.isMerged,r=e.isNew;return Object(o.jsx)("div",{className:g()("tile tile-".concat(c," tile-position-").concat(t,"-").concat(n),{"tile-merged":i,"tile-new":r}),children:Object(o.jsx)("div",{className:"tile-inner",children:c})})}var p=n(11),w=n(12),S={};function M(e,t){S[e]||(S[e]=[],Object(w.a)(e,(function(){return function(e){var t,n=Object(p.a)(S[e]);try{for(n.s();!(t=n.n()).done;){(0,t.value)()}}catch(c){n.e(c)}finally{n.f()}}(e)}))),S[e].push(t)}function k(e,t){S[e]=S[e].filter((function(e){return e!==t}))}function E(e){var t=e.setScore,n=Object(c.useState)(b),i=Object(a.a)(n,2),r=i[0],s=i[1];function l(e){var n=e.x,c=e.y,i=m({tileList:r,x:n,y:c}),a=i.reduce((function(e,t){return t.isMerged?e+t.value:e}),0);t((function(e){return e+a}));var o=h(i);o.isNew=!0,i.push(o),s(i)}function d(){l({x:0,y:-1})}function v(){l({x:0,y:1})}function f(){l({x:-1,y:0})}function x(){l({x:1,y:0})}return Object(c.useEffect)((function(){return M("up",d),M("down",v),M("left",f),M("right",x),function(){k("down",v),k("left",f),k("right",x),k("up",d)}})),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"game-container",children:[Object(o.jsx)("div",{className:"grid-container",children:j()(4,(function(e){return Object(o.jsx)("div",{className:"grid-row",children:j()(4,(function(e){return Object(o.jsx)("div",{className:"grid-cell"},e)}))},e)}))}),Object(o.jsx)("div",{className:"tile-container",children:r.map((function(e){return Object(o.jsx)(N,Object(u.a)({},e),e.id)}))})]}),Object(o.jsxs)("div",{className:"controller",children:[Object(o.jsx)("span",{onClick:f,children:"\ud83d\udc48"}),Object(o.jsx)("span",{onClick:d,children:"\ud83d\udc46"}),Object(o.jsx)("span",{onClick:v,children:"\ud83d\udc47"}),Object(o.jsx)("span",{onClick:x,children:"\ud83d\udc49"})]})]})}function C(e){var t=e.score,n=e.bestScore;return Object(o.jsxs)("header",{className:"heading",children:[Object(o.jsx)("h1",{className:"title",children:"2048"}),Object(o.jsxs)("div",{className:"scores-container",children:[Object(o.jsx)("div",{className:"score-container",style:{marginRight:5},children:t}),Object(o.jsx)("div",{className:"best-container",children:n})]})]})}var D=function(){var e=Object(c.useState)(0),t=Object(a.a)(e,2),n=t[0],i=t[1],r=function(e,t){var n=Object(c.useState)(t),i=Object(a.a)(n,2),r=i[0],s=i[1];return Object(c.useEffect)((function(){var t=window.localStorage.getItem(e);t&&s(Number(t))}),[e]),Object(c.useEffect)((function(){var t=window.localStorage.getItem(e),n=String(r);t!==n&&window.localStorage.setItem(e,n)}),[e,r]),[r,s]}("bestScore",0),s=Object(a.a)(r,2),u=s[0],d=s[1];return Object(c.useEffect)((function(){n>u&&d(n)})),Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(C,{score:n,bestScore:u}),Object(o.jsx)(l,{}),Object(o.jsx)(E,{setScore:i})]})};s.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(D,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.f9dfae31.chunk.js.map